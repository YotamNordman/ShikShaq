@{
    ViewData["Title"] = "Shik-Shaq";
}
<h3><b>@ViewData["Title"]</b>, it's about you becoming greater and stronger!</h3>
<br />
<p>We, in ShikShaq, truly believe that you can maximize yourself, through our intense and dedicated training programs.</p>
<p>Feel free to consult our experienced coaches and to buy quality products on our website!</p>
<br />
<br />
<div class="container-fluid">
    <div class="row">
        <div class="col-md-6">
            <p><b>Look at one of our students plays</b></p>
            <video id="videoplayer" src="@Url.Content("~/videos/about-video.mp4")" controls style="width:100%;height:100%;" loop />
        </div>
        <div class="col-md-6">
            <p><b>Check out our branches locations</b></p>
            <div id="map" style="width: 400px; height: 300px"></div>
        </div>
    </div>
</div>

@section Scripts
{
    <script>
        var map;

        // Adds a marker to the map.
        function addMarker(location, map, title) {
            // Add the marker at the clicked location, and add the next-available label
            // from the array of alphabetical characters.
            var marker = new google.maps.Marker({
                position: location,
                animation: google.maps.Animation.DROP,
                title: title,
                map: map
            });

            marker.setMap(map);
            marker.addListener('click', toggleBounce);
        }

        function toggleBounce() {
            if (this.getAnimation() !== null) {
                this.setAnimation(null);
            } else {
                this.setAnimation(google.maps.Animation.BOUNCE);
            }
        }

        function initMap() {
            // Center map at college of management
            mapCenter = { lat: 31.969738, lng: 34.7749759 };
            mapCenter2 = { lat: 31.979838, lng: 34.7648759 };

            map = new google.maps.Map(document.getElementById('map'), {
                center: mapCenter,
                zoom: 15
            });

            getBranchesLocations();
        };

        function getBranchesLocations() {
            $.ajax({
                type: "GET",
                url: '../Branches/Location',
                data: {},
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                beforeSend: function () {
                },
                success: function (response) {
                    var branchLocation = {};
                    for (branchIndex in response) {
                        branchLocation = {
                            lat: response[branchIndex].lat,
                            lng: response[branchIndex].lng
                        };

                        addMarker(branchLocation, map, response[branchIndex].name);
                    }
                },
                complete: function () {
                },
                failure: function (jqXHR, textStatus, errorThrown) {
                    alert("HTTP Status: " + jqXHR.status + "; Error Text: " + jqXHR.responseText); // Display error message
                }
            });
        }
    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCYy3vaPn7Dnb994s30XZHwqj2hdqXqTv4&callback=initMap"
            async defer></script>
}